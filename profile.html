<?php
include 'access_control.php';
?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Profile</title>
  <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.2/normalize.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="/Website/styles/main.css">

  <link rel="stylesheet" href="//blueimp.github.io/Gallery/css/blueimp-gallery.min.css">
  <link rel="stylesheet" href="/Website/styles/libs/bootstrap-image-gallery.min.css">

  <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

  <script src="/Website/scripts/libs/knockout-3.4.0.js"></script>
  <script src="/Website/scripts/controller.js"></script>

  <script type="text/javascript">
    $(function() {
      whoIs();
    });
  </script>
  <script type="text/javascript">
    $(function() {
      $(".edit").hide();
      $("#update_btn").hide();

      $("#edit_btn").click(function(){
        $(".view").hide();
        $("#edit_btn").hide();
        $(".edit").show();
        $("#update_btn").show();
      });
      $("#update_btn").click(function(){
        $(".view").show();
        $("#edit_btn").show();
        $(".edit").hide();
        $("#update_btn").hide();
      });
    });
  </script>
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="/Website/home/" >Campus Connection</a>
      <a href="/Website/message/"><i class="glyphicon glyphicon-envelope"><span class="badge">2</span></i></a>
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="/Website/home/">Home</a></li>
        <li><a href="/Website/profile/">Profile</a></li>
        <li><a href="#">Inbox <span class="badge">2</span></a></li>
        <li><a href="/Website/search/">Search</a></li>
        <li><a href="#">Settings</a></li>
        <li><a href="javascript:logOut();">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>
<!-- End Nav Bar-->
<!-- Profile-->
<div class="container">
  <div class="wrapper">
    <div class="row">
      <div class="col-md-3 col-sm-3">
        <div class="user-wrapper">
          <!-- The Bootstrap Image Gallery lightbox, should be a child element of the document body -->
          <div id="blueimp-gallery" class="blueimp-gallery blueimp-gallery-controls" data-use-bootstrap-modal="false">
            <!-- The container for the modal slides -->
            <div class="slides"></div>
            <!-- Controls for the borderless lightbox -->
            <h3 class="title"></h3>
            <a class="prev">‹</a>
            <a class="next">›</a>
            <a class="close">×</a>
            <a class="play-pause"></a>
            <ol class="indicator"></ol>
            <!-- The modal dialog, which will be used to wrap the lightbox content -->
            <div class="modal fade">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" aria-hidden="true">&times;</button>
                    <h4 class="modal-title"></h4>
                  </div>
                  <div class="modal-body next"></div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default pull-left prev">
                      <i class="glyphicon glyphicon-chevron-left"></i>
                      Previous
                    </button>
                    <button type="button" class="btn btn-primary next">
                      Next
                      <i class="glyphicon glyphicon-chevron-right"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Profile Image Links -->
          <a data-bind="attr: {href: thumbnail}"data-gallery>
            <img data-bind="attr:{src: thumbnail}" alt="Profile Thumbnail" class="img-responsive" />
          </a>
          <div id="links" data-bind="foreach: picture">
            <a data-bind="attr: { href: relPath}" data-gallery></a>
          </div>
          <!-- End Profile Image Links -->
          <div class="description">
            <h4 data-bind="text: name"></h4>
            <h5 class="view" data-bind="text: school"></h5>
            <input type="text" class="edit form-control" data-bind="textInput: school">
            <button id="edit_btn" class="btn btn-danger btn-sm">Edit</button>
            <button id="update_btn" class="btn btn-info btn-sm">Update</button>
            <hr />
            <h3>Details</h3>
            <div id="profile_page_details">
              <ul>
                <li><span class="details_field">Age </span><span class="details_value" data-bind="text: age"></span></li>
                <li><span class="details_field">Major </span><span class="details_value view" data-bind="text: major"></span><input type="text" class="edit form-control" data-bind="textInput: major"></li>
                <li><span class="details_field">Minor </span><span class="details_value view" data-bind="text: minor"></span><input type="text" class="edit form-control" data-bind="textInput: minor"></li>
                <li><span class="details_field">City </span><span class="details_value view" data-bind="text: city"></span><input type="text" class="edit form-control" data-bind="textInput: city"></li>
                <li><span class="details_field">State </span><span class="details_value view" data-bind="text: state"></span><input type="text" class="edit form-control" data-bind="textInput: state"></li>
                <li><span class="details_field">Class Standing </span><span class="details_value view" data-bind="text: standing"></span><input type="text" class="edit form-control" data-bind="textInput: standing"></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-9 col-sm-9  user-wrapper">
        <div class="description">
          <h3>About</h3>
          <hr />
          <div class="view" id="about_view">
            <p data-bind="text: about">
            </p>
          </div>
          <div class="edit" id="about_edit">
            <form>
              <div class="form-group">
                <textarea class="form-control" rows="5" data-bind="textInput: about"></textarea>
              </div>
            </form>
          </div>
          <h3>Current Courses</h3>
          <hr />
          <div class="view" id="profile_courses_view">
            <ul class="nav" data-bind="foreach: courses">
              <li class="text-lg" data-bind="text: courseName"></li>
            </ul>
          </div>
          <div class="edit" id="profile_courses_edit">
            <ul class="nav">
              <li class="text-lg"><input type="text" class="edit form-control" data-bind="textInput: courseName"></li>
              <li class="text-lg"><input type="text" class="edit form-control" data-bind="textInput: courseName"></li>
              <li class="text-lg"><input type="text" class="edit form-control" data-bind="textInput: courseName"></li>
              <li class="text-lg"><input type="text" class="edit form-control" data-bind="textInput: courseName"></li>
              <li class="text-lg"><input type="text" class="edit form-control" data-bind="textInput: courseName"></li>
              <li class="text-lg"><input type="text" class="edit form-control" data-bind="textInput: courseName"></li>
            </ul>
          </div>
          <h3>Interests</h3>
          <hr />
          <div class="view" id="profile_interests_view">
            <ul class="nav" data-bind="foreach: interests">
              <li class="text-lg"><a data-bind="attr: { href: interestLink, title: interestDescription }, text: interestDescription"></a></li>
            </ul>
          </div>
         <div class="edit" id="profile_interests_edit">         
          <form class="form-control" data-bind="submit: addInterest">
            <input data-bind="value: newInterestText" placeholder="Add Interest" />
            <button type="submit" id="add_btn" class="btn btn-info btn-sm">Add</button>
          </form>
          <ul class="nav" data-bind="foreach: interests, visible: interests().length > 0">
            <li class="text-lg">		
              <input type="text" class="edit form-control" data-bind="value: interestDescription" />
              <a href="#" data-bind="click: $parent.removeInterest">Delete</a>
            </li>
          </ul>
        </div>
        </div>
      </div>
    </div>
  </div>
  <footer>
    <p>&copy; 2015 Company, Inc.</p>
  </footer>
</div>
<script src="//blueimp.github.io/Gallery/js/jquery.blueimp-gallery.min.js"></script>
<script src="/Website/scripts/libs/bootstrap-image-gallery.min.js"></script>
</body>
</html>
